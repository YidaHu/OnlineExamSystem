<div class="class">
  <form nz-form [formGroup]="searchData" class="get-form" (ngSubmit)="searchGetAnalysis()">
    <div class="classSearch">
      <label class="selectLab">学校</label>
      <div class="selectOptions" nz-form-control>
        <nz-select style="width: 200px;" formControlName="school" [(ngModel)]="schoolId" [nzPlaceHolder]="'请选择学校'"
                   [nzSize]="size">
          <nz-option
            *ngFor="let option of schools"
            [nzLabel]="option.school_name"
            [nzValue]="option.id"
            [nzDisabled]="option.disabled">
          </nz-option>
        </nz-select>
      </div>

      <label class="selectLab">学院</label>
      <div class="selectOptions" nz-form-control>
        <nz-select style="width: 200px;" formControlName="department" [(ngModel)]="departmentId"
                   [nzPlaceHolder]="'请选择学院'" [nzSize]="size">
          <nz-option
            *ngFor="let option of departments"
            [nzLabel]="option.label"
            [nzValue]="option.value"
            [nzDisabled]="option.disabled">
          </nz-option>
        </nz-select>
      </div>

      <label class="selectLab">班级</label>
      <div class="selectOptions" nz-form-control>
        <nz-select style="width: 200px;" formControlName="class" [(ngModel)]="classId" [nzPlaceHolder]="'请选择班级'"
                   [nzSize]="size">
          <nz-option
            *ngFor="let option of classes"
            [nzLabel]="option.label"
            [nzValue]="option.value"
            [nzDisabled]="option.disabled">
          </nz-option>
        </nz-select>
      </div>
    </div>
    <div class="classSearch">
      <label class="selectLab">考试场次</label>
      <div class="selectOptions" nz-form-control>
        <nz-select style="width: 200px;" formControlName="exam" [(ngModel)]="examId" [nzPlaceHolder]="'请选择场次'"
                   [nzSize]="size">
          <nz-option
            *ngFor="let option of exams"
            [nzLabel]="option.label"
            [nzValue]="option.value"
            [nzDisabled]="option.disabled">
          </nz-option>
        </nz-select>
      </div>


      <label class="selectLab">科目</label>
      <div class="selectOptions" nz-form-control>
        <nz-select style="width: 200px;" formControlName="course" [(ngModel)]="courseId" [nzPlaceHolder]="'请选择科目'"
                   [nzSize]="size">
          <nz-option
            *ngFor="let option of courses"
            [nzLabel]="option.label"
            [nzValue]="option.value"
            [nzDisabled]="option.disabled">
          </nz-option>
        </nz-select>
      </div>
      <button nz-button [nzType]="'default'" (click)="searchClass()">
        <i class="anticon anticon-search"></i><span>查询</span>
      </button>

      <!--<button nz-button [nzType]="'default'" class="c_right" (click)="operateData('add')">-->
      <!--<span>添加班级</span>-->
      <!--</button>-->
    </div>
  </form>

  <div class="classTable" *ngIf="serachShow">
    <nz-table #nzTable
              [nzAjaxData]="_dataSet"
              nzShowSizeChanger
              [nzLoading]="_loading"
              [nzTotal]="_total"
              [(nzPageIndex)]="_current"
              (nzPageIndexChange)="refreshData()"
              [(nzPageSize)]="_pageSize"
              (nzPageSizeChange)="refreshData(true)"
              nzBordered>
      <thead nz-thead>
      <tr>
        <th nz-th>
          <span>编号</span>
          <nz-table-sort (nzValueChange)="sort($event)"></nz-table-sort>
        </th>
        <th nz-th>
          <span>班级名称</span>
        </th>
        <th nz-th><span>学生</span></th>
        <th nz-th><span>学校</span></th>
        <th nz-th><span>科目</span></th>
        <th nz-th><span>分数</span></th>
      </tr>
      </thead>
      <tbody nz-tbody>
      <tr nz-tbody-tr *ngFor="let data of nzTable.data">
        <td nz-td>{{data.id}}</td>
        <td nz-td>{{data.class_name}}</td>
        <td nz-td>{{data.student_name}}</td>
        <td nz-td>{{data.school_name}}</td>
        <td nz-td>{{data.course_name}}</td>
        <td nz-td>{{data.results}}</td>
      </tr>

      </tbody>
    </nz-table>
  </div>


  <!--弹窗-->
  <!--<nz-modal [nzVisible]="isVisible" [nzTitle]="'专业添加'" [nzContent]="modalContent" (nzOnCancel)="handleCancel($event)"-->
  <!--(nzOnOk)="addClass($event)">-->
</div>

<!--删除提醒-->

